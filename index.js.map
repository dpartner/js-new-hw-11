{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchPhoto(request) {\n  return fetch(\n    `https://pixabay.com/api/?key=13230076-6d393faca736dd5a90699a632&q=${request}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function renderMarkup(photoArray) {\n  return photoArray\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n          <a class=\"gallery-item-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-item-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <div class=\"gallery-item-desc-wrap\">\n            <div class=\"info-box\">\n              <h3 class=\"gallery-item-title\">Likes</h3>\n              <p class=\"gallery-item-text\">${likes}</p>\n            </div>\n            <div class=\"info-box\">\n              <h3 class=\"gallery-item-title\">Views</h3>\n              <p class=\"gallery-item-text\">${views}</p>\n            </div>\n            <div class=\"info-box\">\n              <h3 class=\"gallery-item-title\">Comments</h3>\n              <p class=\"gallery-item-text\">${comments}</p>\n            </div>\n            <div class=\"info-box\">\n              <h3 class=\"gallery-item-title\">Downloads</h3>\n              <p class=\"gallery-item-text\">${downloads}</p>\n            </div>\n          </div>\n        </li>\n  `\n    )\n    .join('');\n}\n","import searchPhoto from './js/pixabay-api';\nimport renderMarkup from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery-list');\nconst lightBox = new SimpleLightbox('.gallery-list a');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(ev) {\n  ev.preventDefault();\n  gallery.innerHTML = '';\n  loader.classList.add('shown');\n  const searchValue = ev.target.search.value.trim().toString();\n  if (searchValue !== '') {\n    searchPhoto(searchValue)\n      .then(data => {\n        return data.hits;\n      })\n      .then(hits => {\n        if (hits.length === 0) {\n          return iziToast.show(notificationOption);\n        }\n        loader.classList.remove('shown');\n        gallery.innerHTML = renderMarkup(hits);\n        lightBox.refresh();\n      })\n      .catch(error => console.log(error));\n  }\n}\nconst notificationOption = {\n  theme: 'dark',\n  icon: 'icon-person',\n  title: 'Sorry, ',\n  message: 'there are no images matching your search query. Please try again!!',\n  position: 'topRight',\n};\n"],"names":["searchPhoto","request","response","renderMarkup","photoArray","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","lightBox","SimpleLightbox","loader","handleSearch","ev","searchValue","data","hits","iziToast","notificationOption","error"],"mappings":"6vBAAe,SAASA,EAAYC,EAAS,CAC3C,OAAO,MACL,qEAAqEA,CAAO,0DAChF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCTe,SAASC,EAAaC,EAAY,CAC/C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,+CACmCL,CAAa;AAAA,iDACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAK9BC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKjD,EACA,KAAK,EAAE,CACZ,CC9BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,IAAIC,EAAe,iBAAiB,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAI,CACxBA,EAAG,eAAc,EACjBL,EAAQ,UAAY,GACpBG,EAAO,UAAU,IAAI,OAAO,EAC5B,MAAMG,EAAcD,EAAG,OAAO,OAAO,MAAM,KAAI,EAAG,WAC9CC,IAAgB,IAClBnB,EAAYmB,CAAW,EACpB,KAAKC,GACGA,EAAK,IACb,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,SAAW,EAClB,OAAOC,EAAS,KAAKC,CAAkB,EAEzCP,EAAO,UAAU,OAAO,OAAO,EAC/BH,EAAQ,UAAYV,EAAakB,CAAI,EACrCP,EAAS,QAAO,CACxB,CAAO,EACA,MAAMU,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAExC,CACA,MAAMD,EAAqB,CACzB,MAAO,OACP,KAAM,cACN,MAAO,UACP,QAAS,qEACT,SAAU,UACZ"}